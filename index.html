<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="half">
            <div class="howto">
                <div class="topic topic-howto">How to Play</div>
                <div class="content howto-content">
                    <ol>
                    <li><strong>Goal:</strong> decode the secret phrase from the previous stage — but first, crack the substitution map.</li>
                    <li>Read the <strong>Encoded Paragraph</strong> section.</li>
                    <li>Fill in the mapping table on the right (<strong>a → ?</strong>, <strong>b → ?</strong>, …).
                        <ul>
                        <li>This is a <strong>one-to-one substitution across the full alphabet (a–z).</strong></li>
                        <li>Each cipher letter maps to <strong>exactly one</strong> plaintext letter, and <strong>no two different cipher letters map to the same plaintext letter.</strong>.</li>
                        </ul>
                    </li>
                    <li>The <strong>Decoded Paragraph</strong> section updates live as you type. When it becomes readable, your mapping is correct.</li>
                    <li>Enter the secret phrase into <strong>Enter secret phrase here</strong> to decode it using your current mapping.</li>
                    </ol>
                </div>
            </div>

            <div class="quarter">
                <div class="topic">Encoded Paragraph</div>
                <div class="content" id="puzzle-paragraph">
                    <p>*</p>
                </div>
            </div>
            <div class="quarter">
                <div class="topic">Decoded Paragraph</div>
                <div class="content" id="answer-paragraph">
                    <p>*</p>
                </div>
            </div>
            
            <div class="decode decode-right">
                <input type="text" name="code" id="code" placeholder="Enter secret phrase here">
                <input type="text" name="decode" id="decode" readonly>
            </div>
            
        </div>
        <div class="right-half">
            <div class="hints-panel">
                <div class="topic topic-hints">Starting Hints</div>
                <div class="content hints-content">
                    <ul>
                        <li>Look for one-letter words. If one appears often, it’s likely “a.”</li>
                        <li>Find a frequent 3-letter word and test if it could be “the.” Check whether it appears in many places.</li>
                        <li>Apostrophes usually indicate contractions (don’t, it’s, we’re, can’t). Even partial guesses can help lock in letters.</li>
                        <li>If you’re unsure but can narrow it down to <strong>2–3 possible letters</strong> (e.g., <strong>n*w</strong> could be <strong>o</strong> or <strong>e</strong>), try one option and see how it affects the paragraph. If the decoded text stops making sense, revisit and adjust your guess.</li>
                        <li>Once you solve a few letters, many words become half-readable, and the rest gets much easier.</li>
                    </ul>
                </div>
            </div>
            <div id="warning" class="warning hidden">
                ⚠️ There are ? wrong pairs! Please check your mapping. ⚠️
            </div>
            <div class="pairs-grid">
                <div class="pairs">a <input type="text" maxlength=1 name="from-a" id="from-a" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">b <input type="text" maxlength=1 name="from-b" id="from-b" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">c <input type="text" maxlength=1 name="from-c" id="from-c" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">d <input type="text" maxlength=1 name="from-d" id="from-d" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">e <input type="text" maxlength=1 name="from-e" id="from-e" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">f <input type="text" maxlength=1 name="from-f" id="from-f" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">g <input type="text" maxlength=1 name="from-g" id="from-g" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">h <input type="text" maxlength=1 name="from-h" id="from-h" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">i <input type="text" maxlength=1 name="from-i" id="from-i" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">j <input type="text" maxlength=1 name="from-j" id="from-j" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">k <input type="text" maxlength=1 name="from-k" id="from-k" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">l <input type="text" maxlength=1 name="from-l" id="from-l" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">m <input type="text" maxlength=1 name="from-m" id="from-m" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">n <input type="text" maxlength=1 name="from-n" id="from-n" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">o <input type="text" maxlength=1 name="from-o" id="from-o" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">p <input type="text" maxlength=1 name="from-p" id="from-p" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">q <input type="text" maxlength=1 name="from-q" id="from-q" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">r <input type="text" maxlength=1 name="from-r" id="from-r" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">s <input type="text" maxlength=1 name="from-s" id="from-s" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">t <input type="text" maxlength=1 name="from-t" id="from-t" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">u <input type="text" maxlength=1 name="from-u" id="from-u" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">v <input type="text" maxlength=1 name="from-v" id="from-v" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">w <input type="text" maxlength=1 name="from-w" id="from-w" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">x <input type="text" maxlength=1 name="from-x" id="from-x" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">y <input type="text" maxlength=1 name="from-y" id="from-y" placeholder="*" data-autosave="1">  </div>
                <div class="pairs">z <input type="text" maxlength=1 name="from-z" id="from-z" placeholder="*" data-autosave="1">  </div>
            </div>
            <div class="buttons">
                <button id="reveal-map-button">Reveal map</button>
                <button id="reveal-code-button">Reveal code</button>
                <button id="reset-button">Reset</button>
            </div>
        </div>
    </div>
    <script src="script.js"></script>

<!-- Restore Progress Modal -->
<div class="modal-backdrop" id="restoreBackdrop" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="restoreTitle">
    <h3 id="restoreTitle">Restore progress detected</h3>
    <p>
      We found saved progress from a previous session in this browser.
      Would you like to restore it?
    </p>

    <div class="modal-actions">
      <button class="btn-secondary" id="discardRestoreBtn">Discard</button>
      <button class="btn-primary" id="confirmRestoreBtn">Restore</button>
    </div>

    <div class="modal-hint">
      Tip: Discard will delete the saved progress for this page.
    </div>
  </div>
</div>
</body>

</html>
